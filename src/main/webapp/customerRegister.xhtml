<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>
    <title>ABC Parking Member Registration</title>
    <link rel="stylesheet" href="#{resource['css/customerRegister.css']}" />
</h:head>
<h:body>
    <div class="register-wrapper">
        <h2 class="form-title">Register</h2>
        <h:form>
            <div class="form-row">
                <h:outputLabel for="name" value="Name:" styleClass="form-label"/>
                <h:inputText id="name" value="#{customerRegister.name}" required="true" styleClass="form-input"/>
            </div>
            <div class="form-row">
                <h:outputLabel for="email" value="Email:" styleClass="form-label"/>
                <h:inputText id="email" value="#{customerRegister.email}" required="true" styleClass="form-input"/>
            </div>
            <div class="form-row">
                <h:outputLabel for="password" value="Password:" styleClass="form-label"/>
                <h:inputSecret id="password" value="#{customerRegister.password}" required="true" styleClass="form-input"/>
            </div>
            <div class="form-row password-hint">
              (Requires 8+ characters, uppercase, lowercase, number, and special character)
            </div>
            
            <h:commandButton value="Register" action="#{customerRegister.register}" styleClass="register-btn"/>

            <h:button value="Back to Home" outcome="index.xhtml" styleClass="register-btn" style="background-color: #6c757d; margin-top: 10px;" />
            
            <h:outputText value="#{customerRegister.message}" 
                          rendered="#{not empty customerRegister.message}" 
                          styleClass="#{customerRegister.message.startsWith('Registration completed') ? 'success-message' : 'error-message'}" />
            
            <h:panelGroup rendered="#{customerRegister.message == 'Registration completed successfully! Please log in.'}">
                <script type="text/javascript">
                    setTimeout(function() { window.location.href = 'customerLogin.xhtml'; }, 3000); 
                </script>
            </h:panelGroup>
        </h:form>
    </div>
</h:body>
</html>